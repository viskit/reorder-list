{"mappings":";;;;;;;;;;;;;;AGAA,EAOG,AAPH;;;;;;;CAOG,AAPH,EAOG,UACM,yCAAoB,CAAC,KAAI,EAAE,WAAW,GAAG,CAAA,CAAE,EAApD,CAAA;aACW,IAAI,CAAC,IAAI,EAAE,KAAK,EAAzB,CAAA;QAEE,GAAA,CAAI,MAAM,GAAG,IAAI,CAAC,UAAU,IAAI,WAAW,CAAC,IAAI,EAAE,CAAC,GAAK,CAAC,CAAC,IAAI,KAAK,IAAI;;QACvE,EAAA,EAAI,MAAM,EAAE,CAAZ;YACE,KAAA,CAAM,WAAW,GAAG,KAAK,CAAC,UAAU,IAAI,KAAK,CAAC,YAAY,CAAC,CAAA;gBAAE,IAAI,EAAE,MAAM,CAAC,IAAI;YAAA,CAAE;YAChF,WAAW,CAAC,MAAM,IAAI,CAAA,CAAE,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,UAAU,GAAG,CAAC,GAAK,CAAC,CAAC,SAAS,CAAC,IAAI;;QAC7E,CAAA;QACD,GAAA,CAAK,GAAA,CAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GACzC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,CAAC;IAC3C,CAAC;IACD,KAAA,CAAM,MAAK,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI;IAEjC,IAAI,CAAC,KAAI,EAAE,MAAK;IAChB,MAAA,CAAO,MAAK;AACd,CAAC;;;;A,G,C,gC,0B,U,I,Q,C,U,E,M,E,G,E,I,E,C;I,G,C,C,G,S,C,M,E,C,G,C,G,C,G,M,G,I,K,I,G,I,G,M,C,wB,C,M,E,G,I,I,E,C;I,E,E,M,C,O,K,C,W,M,C,O,C,Q,K,C,W,C,G,O,C,Q,C,U,E,M,E,G,E,I;S,G,C,G,C,C,G,U,C,M,G,C,E,C,I,C,E,C,G,E,E,C,G,U,C,C,G,C,I,C,G,C,G,C,C,C,I,C,G,C,G,C,C,M,E,G,E,C,I,C,C,M,E,G,M,C;I,M,C,C,G,C,I,C,I,M,C,c,C,M,E,G,E,C,G,C;A,C;A,G,C,+B,0B,S,I,Q,C,O,E,U,E,C,E,S,E,C;a,K,C,K,E,C;Q,M,C,K,Y,C,G,K,G,G,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","sources":["src/index.ts","index.ts","src/cloneWithShadowRoots.ts","cloneWithShadowRoots.ts"],"sourcesContent":["import \"@viskit/reorder\";\nimport {\n  Reorder,\n  StartEvent,\n  DropEvent,\n  ReorderEvent,\n  DragEvent,\n  EndEvent,\n} from \"@viskit/reorder\";\nimport { GestureDetail } from \"@ionic/core\";\nimport { LitElement, html, css } from \"lit\";\nimport { query, property, state } from \"lit/decorators.js\";\nimport {cloneWithShadowRoots} from \"./cloneWithShadowRoots\";\nimport { register } from \"@viskit/long-press\";\n\nconst clear = (children: HTMLCollection, deep = false) => {\n  const childrens = Array.from(children) as HTMLElement[];\n  childrens.forEach((c) => {\n    c.style.transform = \"\";\n    deep && (c.style.transition = \"\");\n  });\n};\n\nexport class ReorderList extends LitElement {\n  static styles = css`\n    :host {\n      display: block;\n    }\n  `;\n\n  @property({ type: Boolean })\n  enable = false;\n\n  @state()\n  inEnable = false;\n\n  dragEl: HTMLElement;\n\n  selectedDragEl: HTMLElement;\n\n  firstUpdated() {\n    register(this.shadowRoot);\n    this.addEventListener(\n      \"long-press\",\n      (e: PointerEvent) => {\n        const draggable = this.selectedDragEl;\n        if (draggable) {\n          this.inEnable = true;\n\n          const dragEl = cloneWithShadowRoots(draggable) as HTMLElement;\n          const styles = window.getComputedStyle(draggable);\n\n          for (let i = 0, len = styles.length; i < len; i++) {\n            const key = styles.item(i);\n            dragEl.style.setProperty(key, styles.getPropertyValue(key));\n          }\n\n          const { left, top, width, height } =\n            draggable.getBoundingClientRect();\n          dragEl.style.position = \"absolute\";\n          dragEl.style.top = top + \"px\";\n          dragEl.style.left = left + \"px\";\n          dragEl.style.pointerEvents = \"none\";\n          dragEl.style.margin = \"0\";\n          dragEl.style.width = width + \"px\";\n          dragEl.style.height = height + \"px\";\n          dragEl.style.transition = \"\";\n          dragEl.style.boxShadow = \"5px 5px 5px #333\";\n\n          document.body.appendChild(dragEl);\n\n          this.dragEl = dragEl;\n\n          (draggable as HTMLElement).style.opacity = \"0\";\n        }\n      },\n      true\n    );\n  }\n\n  render() {\n    return html`\n      <viskit-reorder\n        .enable=${this.enable && this.inEnable}\n        .canStart=${(e: GestureDetail) => {\n          this.selectedDragEl = e.data.draggable;\n          return true;\n        }}\n        @viskit-start=${() => {\n          this.dispatchEvent(new CustomEvent(\"viskit-start\"));\n        }}\n        @viskit-drag=${this.onDrag}\n        @viskit-reorder=${this.onReorder}\n        @viskit-drop=${this.onDrop}\n        @viskit-end=${this.onEnd}\n        @pointerup=${this.onEnd}\n        .containers=${this.containers}\n      >\n        <slot></slot>\n      </viskit-reorder>\n    `;\n  }\n\n  @query(\"viskit-reorder\")\n  reorder: Reorder;\n\n  @query(\"div\")\n  div: HTMLElement;\n\n  @property()\n  containerSelector = \"\";\n\n  @property({\n    attribute: false,\n    hasChanged(containers) {\n      return (\n        Array.isArray(containers) &&\n        containers.every((c) => c instanceof HTMLElement)\n      );\n    },\n  })\n  containers: HTMLElement[] = [this];\n\n  async updated(map: Map<string, any>) {\n    if (map.has(\"containerSelector\") && this.containerSelector) {\n      this.containers = Array.from(\n        this.querySelectorAll(this.containerSelector)\n      ) as HTMLElement[];\n    }\n\n    if (map.has(\"containers\") && this.containers) {\n      this.containers.forEach((c) => this.addStyle(c));\n    }\n  }\n\n  addStyle(container: HTMLElement) {\n    (Array.from(container.children) as HTMLElement[]).forEach((el) => {\n      el.style.transition = \"transform .2s\";\n    });\n  }\n\n  onEnd(ev: EndEvent | PointerEvent) {\n    if (this.inEnable) {\n      this.inEnable = false;\n    }\n\n    const data = (ev as EndEvent).data;\n    if (data) {\n      data.hoverContainer && clear(data.hoverContainer.children);\n      data.container && clear(data.container.children, true);\n      this.dispatchEvent(new CustomEvent(\"viskit-end\"));\n    }\n\n    if (this.selectedDragEl) {\n      this.selectedDragEl.style.setProperty(\"opacity\", \"unset\");\n      this.selectedDragEl = null;\n    }\n    this.dragEl && this.dragEl.remove();\n  }\n\n  onDrag({ data, deltaY, container }: DragEvent) {\n    this.dragEl.style.transform = `translateY(${deltaY}px)`;\n  }\n\n  onReorder({\n    data,\n    y,\n    container,\n    hoverIndex,\n    hoverable,\n    hoverContainer,\n    draggable,\n    draggableIndex,\n    draggableRect,\n    hoverableRect,\n  }: ReorderEvent) {\n    if (hoverableRect && draggableRect) {\n      const prevHoverContainer = data.hoverContainer as HTMLElement;\n\n      // clear prev\n\n      let index = hoverIndex;\n\n      // clear previous cntainer's children transform\n      if (prevHoverContainer !== hoverContainer && prevHoverContainer) {\n        clear(prevHoverContainer.children);\n      }\n\n      if (container === hoverContainer) {\n        if (hoverIndex === draggableIndex) {\n          clear(hoverContainer.children);\n        } else if (hoverIndex < draggableIndex) {\n          if (y > hoverableRect.top + hoverableRect.height / 2) {\n            ++index;\n            data.after = true;\n          } else {\n            data.after = false;\n          }\n          if (index === draggableIndex) {\n            clear(hoverContainer.children);\n          } else {\n            const children = Array.from(\n              hoverContainer.children\n            ) as HTMLElement[];\n            this.addStyle(hoverContainer);\n            for (let i = 0, len = children.length; i < len; i++) {\n              let y = 0;\n              if (i >= index && i < draggableIndex) {\n                y = draggableRect.height;\n              }\n              children[i].style.transform = `translateY(${y}px)`;\n            }\n          }\n        } else {\n          if (y < hoverableRect.top + hoverableRect.height / 2) {\n            --index;\n            data.after = false;\n          } else {\n            data.after = true;\n          }\n\n          if (index === draggableIndex) {\n            clear(hoverContainer.children);\n          } else {\n            const children = Array.from(\n              hoverContainer.children\n            ) as HTMLElement[];\n            this.addStyle(hoverContainer);\n            for (let i = 0, len = children.length; i < len; i++) {\n              let y = 0;\n              if (i > draggableIndex && i <= index) {\n                y = -draggableRect.height;\n              }\n\n              children[i].style.transform = `translateY(${y}px)`;\n            }\n          }\n        }\n      } else {\n        const fromTop = draggableRect.top < hoverableRect.top;\n\n        if (y > hoverableRect.top + hoverableRect.height / 2) {\n          ++index;\n          data.after = true;\n        } else {\n          data.after = false;\n        }\n        const children = Array.from(hoverContainer.children) as HTMLElement[];\n        for (let i = 0, len = children.length; i < len; i++) {\n          let y = 0;\n\n          if (index === children.length) {\n            y = -draggableRect.height;\n          } else {\n            if (i >= index) {\n              y = draggableRect.height;\n            }\n          }\n\n          this.addStyle(hoverContainer);\n\n          if (\n            (fromTop && hoverIndex === 0 && !data.after) ||\n            (!fromTop &&\n              hoverIndex === hoverContainer.children.length - 1 &&\n              data.after)\n          ) {\n            y = y / 2;\n          }\n          children[i].style.transform = `translateY(${y}px)`;\n        }\n      }\n\n      data.hoverContainer = hoverContainer;\n      data.dropIndex = index;\n    }\n  }\n\n  onDrop({ data, complete }: DropEvent) {\n    if (data.draggable !== data.hoverable) {\n      complete(data.after);\n    }\n  }\n}\n\nwindow.customElements.define(\"viskit-reorder-list\", ReorderList);\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"viskit-reorder-list\": ReorderList;\n  }\n}\n",null,"/**\n *\n * From https://gist.github.com/developit/45c85e9be01e8c3f1a0ec073d600d01e\n *\n * cloneNode(true), but also clones shadow roots.\n * @param {Element}\n * @param {ShadowRoot[]} [shadowRoots] Any closed shadow roots passed here will be included.\n */\nfunction cloneWithShadowRoots(node, shadowRoots = []) {\n  function walk(node, clone) {\n\n    let shadow = node.shadowRoot || shadowRoots.find((r) => r.host === node);\n    if (shadow) {\n      const cloneShadow = clone.shadowRoot || clone.attachShadow({ mode: shadow.mode });\n      cloneShadow.append(...[].map.call(shadow.childNodes, (c) => c.cloneNode(true)));\n    }\n    for (let i = 0; i < node.children.length; i++)\n      walk(node.children[i], clone.children[i]);\n  }\n  const clone = node.cloneNode(true);\n\n  walk(node, clone);\n  return clone;\n}\n\nexport { cloneWithShadowRoots };\n",null],"names":[],"version":3,"file":"module.js.map"}